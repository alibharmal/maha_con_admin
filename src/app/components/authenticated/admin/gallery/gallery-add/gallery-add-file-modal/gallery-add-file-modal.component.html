<div class="main-wrapper">
  <h1 class="page-heading">Add Media</h1>
  <div class="form" [formGroup]="modalForm">
    <div class="row mt-50">
      <p>Select Type of Content</p>
      <div class="col-md-2">
        <div class="custom-radio">
          <input
            type="radio"
            name="type"
            id="option1"
            class="radio-input"
            value="PHOTO"
            (change)="onTypeChange()"
            formControlName="type"
          />
          <label for="option1" class="radio-label">
            Photo
            <span class="radio-outer"></span>
            <span class="radio-inner"></span>
          </label>
        </div>
      </div>
      <div class="col-md-2">
        <div class="custom-radio">
          <input
            type="radio"
            name="type"
            id="option2"
            class="radio-input"
            value="VIDEO"
            (change)="onTypeChange()"
            formControlName="type"
          />
          <label for="option2" class="radio-label">
            Video
            <span class="radio-outer"></span>
            <span class="radio-inner"></span>
          </label>
        </div>
      </div>
    </div>

    <div *ngIf="isTypePhoto" class="row mt-50">
      <strong>Upload file</strong>
      <div class="col-md-4 mt-25 d-flex flex-column align-items-start">
        <div class="upload-image-section">
          <span class="upload-icon">
            <span class="material-symbols-outlined"> arrow_upward </span>
          </span>
          <span class="upload-file-text">Drag files to upload</span>
          <input
            type="file"
            name=""
            id="imageUpload"
            style="display: none"
            (change)="onFileSelect($event)"
            accept="image/*"
          />
        </div>
        <button class="btn theme-btn mt-2 custome-margin-upload-btn">
          <label for="imageUpload"> Choose File</label>
        </button>
      </div>
      <div class="col-md-8">
        <div class="row">
          <div
            class="col-md-12"
            *ngFor="let image of uploadedImageArray; let i = index"
          >
            <div class="card">
              <div class="row d-flex align-items-center">
                <div class="col-md-10">
                  <img
                    height="60px"
                    width="60px"
                    src="./../../../../../assets/images/file-placeholder.png"
                    alt=""
                    class=""
                  />
                  {{ image }}
                </div>
                <div class="col-md-2">
                  <span
                    (click)="removeFile(i)"
                    class="material-symbols-outlined custome-icon"
                  >
                    close
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="!isTypePhoto" class="row mt-50">
      <strong>Upload Video</strong>
      <div class="col-md-4 mt-25 d-flex flex-column align-items-start">
        <div class="upload-image-section">
          <span class="upload-icon">
            <span class="material-symbols-outlined"> arrow_upward </span>
          </span>
          <span class="upload-file-text">Drag files to upload</span>
          <input
            type="file"
            name=""
            id="videoUpload"
            style="display: none"
            (change)="onFileSelect($event)"
            accept="video/*"
          />
        </div>
        <button class="btn theme-btn mt-2 custome-margin-upload-btn">
          <label for="videoUpload"> Choose File</label>
        </button>
      </div>
      <div class="col-md-8">
        <div class="row">
          <div
            class="col-md-12"
            *ngFor="let image of uploadedImageArray; let i = index"
          >
            <div class="card">
              <div class="row d-flex align-items-center">
                <div class="col-md-10">
                  <img
                    height="60px"
                    width="60px"
                    src="./../../../../../assets/images/file-placeholder.png"
                    alt=""
                    class=""
                  />
                  {{ image }}
                </div>
                <div class="col-md-2">
                  <span
                    (click)="removeFile(i)"
                    class="material-symbols-outlined custome-icon"
                  >
                    close
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <strong class="mt-3" >Add thumbnail</strong>
      <div class="col-md-4 mt-25 d-flex flex-column align-items-start">
        <div class="upload-image-section">
          <span class="upload-icon">
            <span class="material-symbols-outlined"> arrow_upward </span>
          </span>
          <span class="upload-file-text">Drag files to upload</span>
          <input
            type="file"
            name=""
            id="thumbnail-upload"
            style="display: none"
            (change)="onThumbnailSelect($event)"
            accept="image/*"
          />
        </div>
        <button class="btn theme-btn mt-2 custome-margin-upload-btn">
          <label for="thumbnail-upload"> Choose File</label>
        </button>
      </div>
      <div class="col-md-8" *ngIf="thumbnailFile" >
        <div class="row">
          <div class="col-md-12">
            <div class="card">
              <div class="row d-flex align-items-center">
                <div class="col-md-10">
                  <img
                    height="60px"
                    width="60px"
                    src="./../../../../../assets/images/file-placeholder.png"
                    alt=""
                    class=""
                  />
                  {{ thumbnailFile }}
                </div>
                <div class="col-md-2">
                  <span (click)="clearThumbnail()" class="material-symbols-outlined custome-icon">
                    close
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row mt-5 gap-4 d-flex" style="margin-left: 0.1rem">
      <button class="btn theme-btn" (click)="onSubmit()">Submit</button>
      <button
        class="btn theme-btn-secondary"
        (click)="activeModal.close('cancel')"
      >
        Cancel
      </button>
    </div>
  </div>
</div>
